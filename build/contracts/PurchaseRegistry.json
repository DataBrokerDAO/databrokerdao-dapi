{
  "contractName": "PurchaseRegistry",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "gateKeeper",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "name": "purchases",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "purchasesIndex",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_gateKeeper",
          "type": "address"
        },
        {
          "name": "_token",
          "type": "address"
        },
        {
          "name": "_streamRegistry",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "stream",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "startTime",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "endTime",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "purchase",
          "type": "address"
        }
      ],
      "name": "AccessPurchased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "key",
          "type": "address"
        }
      ],
      "name": "AddressCacheInvalidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "key",
          "type": "bytes32"
        }
      ],
      "name": "Bytes32CacheInvalidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "key",
          "type": "uint256"
        }
      ],
      "name": "Uint256CacheInvalidated",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_stream",
          "type": "address"
        },
        {
          "name": "_endTime",
          "type": "uint256"
        }
      ],
      "name": "purchaseAccess",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_salePercentage",
          "type": "uint256"
        }
      ],
      "name": "setSalePercentage",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_stream",
          "type": "address"
        }
      ],
      "name": "hasAccess",
      "outputs": [
        {
          "name": "access",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getIndexLength",
      "outputs": [
        {
          "name": "length",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getByIndex",
      "outputs": [
        {
          "name": "contractAddress",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_key",
          "type": "address"
        }
      ],
      "name": "getByKey",
      "outputs": [
        {
          "name": "contractAddress",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "_cachedBytes32",
          "type": "bytes32"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "invalidateCache",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60606040526001600855341561001457600080fd5b604051606080610ce783398101604052808051919060200180519190602001805160008054600160a060020a03968716600160a060020a03199182168117909255600180543089169083161790557f5075726368617365526567697374727900000000000000000000000000000000600255600580549688169682169690961790955560068054969092169585169590951790555050600780549091169091179055610c22806100c56000396000f3006060604052600436106100955763ffffffff60e060020a6000350416630999f424811461009a5780632d883a73146100be5780633d188fab146100f057806345d61ded14610115578063498770381461012857806372cc985014610147578063842a77d31461015d57806395a078e81461017c578063b8e52d87146101af578063e1ba7d01146101c5578063fc0c546a146101ea575b600080fd5b34156100a557600080fd5b6100bc600160a060020a03600435166024356101fd565b005b34156100c957600080fd5b6100d4600435610631565b604051600160a060020a03909116815260200160405180910390f35b34156100fb57600080fd5b6100bc600160a060020a0360043516602435604435610665565b341561012057600080fd5b6100d461069f565b341561013357600080fd5b6100d4600160a060020a03600435166106ae565b341561015257600080fd5b6100bc6004356106cc565b341561016857600080fd5b6100d4600160a060020a03600435166106d1565b341561018757600080fd5b61019b600160a060020a03600435166106ec565b604051901515815260200160405180910390f35b34156101ba57600080fd5b6100d4600435610765565b34156101d057600080fd5b6101d861078d565b60405190815260200160405180910390f35b34156101f557600080fd5b6100d4610793565b6006546000908190819081908190600160a060020a0316633c1b12b688836040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561026057600080fd5b6102c65a03f1151561027157600080fd5b505050604051805195504294506102a09050610293878663ffffffff6107a216565b869063ffffffff6107b416565b92506102c86102bb60646008546107ea90919063ffffffff16565b849063ffffffff6107b416565b600554600654919350600160a060020a03908116916323b872dd9133911663a72b0d2d8b60006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561033357600080fd5b6102c65a03f1151561034457600080fd5b5050506040518051905061035e878763ffffffff6107a216565b60006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b15156103b657600080fd5b6102c65a03f115156103c757600080fd5b5050506040518051905015156103dc57600080fd5b600554600160a060020a03166323b872dd33308560006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b151561044857600080fd5b6102c65a03f1151561045957600080fd5b50505060405180519050151561046e57600080fd5b60075485908590889033908b90600160a060020a031661048c610879565b9586526020860194909452604080860193909352600160a060020a0391821660608601528116608085015290911660a083015260c09091019051809103906000f08015156104d957600080fd5b600160a060020a0381166000818152600360205260409020805473ffffffffffffffffffffffffffffffffffffffff191690911790556004805491925090600181016105258382610889565b506000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff191633600160a060020a03818116929092179092558816906390a4b8d590839060405160e060020a63ffffffff8516028152600160a060020a03928316600482015291166024820152604401600060405180830381600087803b15156105ad57600080fd5b6102c65a03f115156105be57600080fd5b5050507fa46fb31f0524729f82c7e370054d0f3ad832386ce8a7ecf09d7368594d30b305873386898786604051600160a060020a03968716815294861660208601526040808601949094526060850192909252608084015290921660a082015260c001905180910390a150505050505050565b600061065f60048381548110151561064557fe5b600091825260209091200154600160a060020a03166106ae565b92915050565b817fd5c977477c90fd6c009dd3275798b51da8bd2df8e0a25be47773f87b53d2e39960405160405180910390a261069a610801565b505050565b600054600160a060020a031681565b600160a060020a039081166000908152600360205260409020541690565b600855565b600360205260009081526040902054600160a060020a031681565b600081600160a060020a03166395a078e83360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561074557600080fd5b6102c65a03f1151561075657600080fd5b50505060405180519392505050565b600480548290811061077357fe5b600091825260209091200154600160a060020a0316905081565b60045490565b600554600160a060020a031681565b6000828211156107ae57fe5b50900390565b6000808315156107c757600091506107e3565b508282028284828115156107d757fe5b04146107df57fe5b8091505b5092915050565b60008082848115156107f857fe5b04949350505050565b600154600254600160a060020a0390911690633d188fab906000908160405160e060020a63ffffffff8616028152600160a060020a03909316600484015260248301919091526044820152606401600060405180830381600087803b151561086857600080fd5b6102c65a03f1151561069a57600080fd5b60405161032d806108ca83390190565b81548183558181151161069a5760008381526020902061069a9181019083016108c691905b808211156108c257600081556001016108ae565b5090565b9056006060604052341561000f57600080fd5b60405160c08061032d83398101604052808051919060200180519190602001805191906020018051919060200180519190602001805160008054600160a060020a0319908116600160a060020a039384161782556001805482163085161790556002999099556003979097556004959095555050600580548616928416929092179091556006805490941691161790915561027d9081906100b090396000f3006060604052600436106100825763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416633197cbb681146100875780633d188fab146100ac57806345d61ded146100d35780635a77dc46146101025780636f2a67911461011557806378e9792514610128578063a035b1fe1461013b575b600080fd5b341561009257600080fd5b61009a61014e565b60405190815260200160405180910390f35b34156100b757600080fd5b6100d1600160a060020a0360043516602435604435610154565b005b34156100de57600080fd5b6100e6610197565b604051600160a060020a03909116815260200160405180910390f35b341561010d57600080fd5b6100e66101a6565b341561012057600080fd5b6100e66101b5565b341561013357600080fd5b61009a6101c4565b341561014657600080fd5b61009a6101ca565b60045481565b82600160a060020a03167f2130e02bc65616aa7f8f548960f51a08a1d0ea94efb33611412208c2d0306a2260405160405180910390a26101926101d0565b505050565b600054600160a060020a031681565b600554600160a060020a031681565b600654600160a060020a031681565b60035481565b60025481565b600154600160a060020a0316633d188fab3060006040517c010000000000000000000000000000000000000000000000000000000063ffffffff8516028152600160a060020a0390921660048301526044820152606401600060405180830381600087803b151561024057600080fd5b6102c65a03f1151561019257600080fd00a165627a7a72305820f22e83c34cd2bbe6943c0f37dd6f0e49f943ebf73209722fb2bb9746bf938b540029a165627a7a72305820ad1f5981d67a12b6fc570099cbb1915d52369f8f6b1fe6edb6ebd4e97de4feaf0029",
  "deployedBytecode": "0x6060604052600436106100955763ffffffff60e060020a6000350416630999f424811461009a5780632d883a73146100be5780633d188fab146100f057806345d61ded14610115578063498770381461012857806372cc985014610147578063842a77d31461015d57806395a078e81461017c578063b8e52d87146101af578063e1ba7d01146101c5578063fc0c546a146101ea575b600080fd5b34156100a557600080fd5b6100bc600160a060020a03600435166024356101fd565b005b34156100c957600080fd5b6100d4600435610631565b604051600160a060020a03909116815260200160405180910390f35b34156100fb57600080fd5b6100bc600160a060020a0360043516602435604435610665565b341561012057600080fd5b6100d461069f565b341561013357600080fd5b6100d4600160a060020a03600435166106ae565b341561015257600080fd5b6100bc6004356106cc565b341561016857600080fd5b6100d4600160a060020a03600435166106d1565b341561018757600080fd5b61019b600160a060020a03600435166106ec565b604051901515815260200160405180910390f35b34156101ba57600080fd5b6100d4600435610765565b34156101d057600080fd5b6101d861078d565b60405190815260200160405180910390f35b34156101f557600080fd5b6100d4610793565b6006546000908190819081908190600160a060020a0316633c1b12b688836040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561026057600080fd5b6102c65a03f1151561027157600080fd5b505050604051805195504294506102a09050610293878663ffffffff6107a216565b869063ffffffff6107b416565b92506102c86102bb60646008546107ea90919063ffffffff16565b849063ffffffff6107b416565b600554600654919350600160a060020a03908116916323b872dd9133911663a72b0d2d8b60006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561033357600080fd5b6102c65a03f1151561034457600080fd5b5050506040518051905061035e878763ffffffff6107a216565b60006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b15156103b657600080fd5b6102c65a03f115156103c757600080fd5b5050506040518051905015156103dc57600080fd5b600554600160a060020a03166323b872dd33308560006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b151561044857600080fd5b6102c65a03f1151561045957600080fd5b50505060405180519050151561046e57600080fd5b60075485908590889033908b90600160a060020a031661048c610879565b9586526020860194909452604080860193909352600160a060020a0391821660608601528116608085015290911660a083015260c09091019051809103906000f08015156104d957600080fd5b600160a060020a0381166000818152600360205260409020805473ffffffffffffffffffffffffffffffffffffffff191690911790556004805491925090600181016105258382610889565b506000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff191633600160a060020a03818116929092179092558816906390a4b8d590839060405160e060020a63ffffffff8516028152600160a060020a03928316600482015291166024820152604401600060405180830381600087803b15156105ad57600080fd5b6102c65a03f115156105be57600080fd5b5050507fa46fb31f0524729f82c7e370054d0f3ad832386ce8a7ecf09d7368594d30b305873386898786604051600160a060020a03968716815294861660208601526040808601949094526060850192909252608084015290921660a082015260c001905180910390a150505050505050565b600061065f60048381548110151561064557fe5b600091825260209091200154600160a060020a03166106ae565b92915050565b817fd5c977477c90fd6c009dd3275798b51da8bd2df8e0a25be47773f87b53d2e39960405160405180910390a261069a610801565b505050565b600054600160a060020a031681565b600160a060020a039081166000908152600360205260409020541690565b600855565b600360205260009081526040902054600160a060020a031681565b600081600160a060020a03166395a078e83360006040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561074557600080fd5b6102c65a03f1151561075657600080fd5b50505060405180519392505050565b600480548290811061077357fe5b600091825260209091200154600160a060020a0316905081565b60045490565b600554600160a060020a031681565b6000828211156107ae57fe5b50900390565b6000808315156107c757600091506107e3565b508282028284828115156107d757fe5b04146107df57fe5b8091505b5092915050565b60008082848115156107f857fe5b04949350505050565b600154600254600160a060020a0390911690633d188fab906000908160405160e060020a63ffffffff8616028152600160a060020a03909316600484015260248301919091526044820152606401600060405180830381600087803b151561086857600080fd5b6102c65a03f1151561069a57600080fd5b60405161032d806108ca83390190565b81548183558181151161069a5760008381526020902061069a9181019083016108c691905b808211156108c257600081556001016108ae565b5090565b9056006060604052341561000f57600080fd5b60405160c08061032d83398101604052808051919060200180519190602001805191906020018051919060200180519190602001805160008054600160a060020a0319908116600160a060020a039384161782556001805482163085161790556002999099556003979097556004959095555050600580548616928416929092179091556006805490941691161790915561027d9081906100b090396000f3006060604052600436106100825763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416633197cbb681146100875780633d188fab146100ac57806345d61ded146100d35780635a77dc46146101025780636f2a67911461011557806378e9792514610128578063a035b1fe1461013b575b600080fd5b341561009257600080fd5b61009a61014e565b60405190815260200160405180910390f35b34156100b757600080fd5b6100d1600160a060020a0360043516602435604435610154565b005b34156100de57600080fd5b6100e6610197565b604051600160a060020a03909116815260200160405180910390f35b341561010d57600080fd5b6100e66101a6565b341561012057600080fd5b6100e66101b5565b341561013357600080fd5b61009a6101c4565b341561014657600080fd5b61009a6101ca565b60045481565b82600160a060020a03167f2130e02bc65616aa7f8f548960f51a08a1d0ea94efb33611412208c2d0306a2260405160405180910390a26101926101d0565b505050565b600054600160a060020a031681565b600554600160a060020a031681565b600654600160a060020a031681565b60035481565b60025481565b600154600160a060020a0316633d188fab3060006040517c010000000000000000000000000000000000000000000000000000000063ffffffff8516028152600160a060020a0390921660048301526044820152606401600060405180830381600087803b151561024057600080fd5b6102c65a03f1151561019257600080fd00a165627a7a72305820f22e83c34cd2bbe6943c0f37dd6f0e49f943ebf73209722fb2bb9746bf938b540029a165627a7a72305820ad1f5981d67a12b6fc570099cbb1915d52369f8f6b1fe6edb6ebd4e97de4feaf0029",
  "sourceMap": "517:3340:4:-;;;928:1;906:23;;1112:308;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;250:10:12;:36;;-1:-1:-1;;;;;250:36:12;;;-1:-1:-1;;;;;;250:36:12;;;;;;;;;145:24:23;;1281:4:4;145:24:23;;;;;;;;112:115:25;202:8;:20;1306:5:4;:24;;;;;;;;;;;;;;;1336:14;:48;;;;;;;;;;;;;;;-1:-1:-1;;1391:10:4;:24;;;;;;;;;;517:3340;;;;;;",
  "deployedSourceMap": "517:3340:4:-;;;;;;;;;-1:-1:-1;;;517:3340:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1660:1082;;;;;;;;;;-1:-1:-1;;;;;1660:1082:4;;;;;;;;;3350:127;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;3350:127:4;;;;;;;;;;;;;;3664:191;;;;;;;;;;-1:-1:-1;;;;;3664:191:4;;;;;;;;;77:28:12;;;;;;;;;;;;3481:131:4;;;;;;;;;;-1:-1:-1;;;;;3481:131:4;;;;;2847:99;;;;;;;;;;;;;;740:46;;;;;;;;;;-1:-1:-1;;;;;740:46:4;;;;;3064:127;;;;;;;;;;-1:-1:-1;;;;;3064:127:4;;;;;;;;;;;;;;;;;;;;;;790:31;;;;;;;;;;;;;;3245:101;;;;;;;;;;;;;;;;;;;;;;;;;;;826:21;;;;;;;;;;;;1660:1082;1799:14;;1770:26;;;;;;;;;;-1:-1:-1;;;;;1799:14:4;:29;1829:7;1770:26;1799:38;;;;;;;-1:-1:-1;;;1799:38:4;;;;;;-1:-1:-1;;;;;1799:38:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1861:3:4;;-1:-1:-1;1890:51:4;;-1:-1:-1;1916:24:4;:8;1861:3;1916:24;:12;:24;:::i;:::-;1890:21;;:51;:25;:51;:::i;:::-;1870:71;;1987:41;2004:23;2023:3;2004:14;;:18;;:23;;;;:::i;:::-;1987:12;;:41;:16;:41;:::i;:::-;2062:5;;2093:14;;1964:64;;-1:-1:-1;;;;;;2062:5:4;;;;:18;;2081:10;;2093:14;:29;2123:7;2062:5;2093:38;;;;;;;-1:-1:-1;;;2093:38:4;;;;;;-1:-1:-1;;;;;2093:38:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2133:33:4;:12;2150:15;2133:33;:16;:33;:::i;:::-;2062:105;;;;;;;;-1:-1:-1;;;2062:105:4;;;;;;-1:-1:-1;;;;;2062:105:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2054:114;;;;;;;;2195:5;;-1:-1:-1;;;;;2195:5:4;:18;2214:10;2226:4;2232:15;2195:5;:53;;;;;;;-1:-1:-1;;;2195:53:4;;;;;;-1:-1:-1;;;;;2195:53:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2187:62;;;;;;;;2415:10;;2319:21;;2348:10;;2366:8;;2382:10;;2400:7;;-1:-1:-1;;;;;2415:10:4;2299:132;;:::i;:::-;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2299:132:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2461:28:4;;;;;;:9;:28;;;;;:39;;-1:-1:-1;;2461:39:4;;;;;;2506:14;:31;;2279:152;;-1:-1:-1;2506:14:4;2461:39;2506:31;;;:14;:31;;:::i;:::-;-1:-1:-1;2506:31:4;;;;;;;;;;;-1:-1:-1;;2506:31:4;2526:10;-1:-1:-1;;;;;2506:31:4;;;;;;;;;;2581:27;;;;;2617:8;;2581:58;;-1:-1:-1;;;2581:58:4;;;;;;-1:-1:-1;;;;;2581:58:4;;;;;;;;;;;;;;;-1:-1:-1;2581:58:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2646:91;2662:7;2671:10;2683;2695:8;2705:12;2727:8;2646:91;;-1:-1:-1;;;;;2646:91:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1660:1082;;;;;;;:::o;3350:127::-;3403:23;3441:31;3450:14;3465:5;3450:21;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;3450:21:4;3441:8;:31::i;:::-;3434:38;3350:127;-1:-1:-1;;3350:127:4:o;3664:191::-;3806:14;3782:39;;;;;;;;;;3827:23;:21;:23::i;:::-;3664:191;;;:::o;77:28:12:-;;;-1:-1:-1;;;;;77:28:12;;:::o;3481:131:4:-;-1:-1:-1;;;;;3591:15:4;;;3534:23;3591:15;;;:9;:15;;;;;;;;3481:131::o;2847:99::-;2909:14;:32;2847:99::o;740:46::-;;;;;;;;;;;;-1:-1:-1;;;;;740:46:4;;:::o;3064:127::-;3123:11;3156:7;-1:-1:-1;;;;;3149:25:4;;3175:10;3149:37;;;;;;;;-1:-1:-1;;;3149:37:4;;;;;;-1:-1:-1;;;;;3149:37:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3064:127;-1:-1:-1;;;3064:127:4:o;790:31::-;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;790:31:4;;-1:-1:-1;790:31:4;:::o;3245:101::-;3320:14;:21;;3245:101::o;826:21::-;;;-1:-1:-1;;;;;826:21:4;;:::o;836:110:29:-;894:7;916:6;;;;909:14;;;;-1:-1:-1;936:5:29;;;836:110::o;203:173::-;261:7;;280:6;;276:35;;;303:1;296:8;;;;276:35;-1:-1:-1;328:5:29;;;332:1;328;:5;346;;;;;;;;:10;339:18;;;;370:1;363:8;;203:173;;;;;;:::o;458:265::-;516:7;605:9;621:1;617;:5;;;;;;;;;458:265;-1:-1:-1;;;;458:265:29:o;231:96:25:-;273:6;;310:8;;-1:-1:-1;;;;;273:6:25;;;;:22;;:6;;;:49;;-1:-1:-1;;;273:49:25;;;;;;-1:-1:-1;;;;;273:49:25;;;;;;;;;;;;;;;;;;;;-1:-1:-1;273:49:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;517:3340:4;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o",
  "source": "pragma solidity ^0.4.20;\n\nimport \"./Purchase.sol\";\nimport \"../stream/Stream.sol\";\nimport \"../stream/StreamRegistry.sol\";\nimport \"../dtxtoken/DtxToken.sol\";\nimport \"@settlemint/solidity-mint/contracts/authentication/Secured.sol\";\nimport \"@settlemint/solidity-mint/contracts/utility/syncing/Syncable.sol\";\nimport \"@settlemint/solidity-mint/contracts/utility/caching/Cacher.sol\";\nimport \"@settlemint/solidity-mint/contracts/utility/caching/CachedByBytes32.sol\";\nimport \"zeppelin-solidity/contracts/math/SafeMath.sol\";\n\n\ncontract PurchaseRegistry is Secured, Syncable, Cacher, CachedByBytes32 {\n  using SafeMath for uint256;\n\n  event AccessPurchased(address stream, address user, uint startTime, uint endTime, uint price, address purchase);\n\n  mapping (address => Purchase) public purchases;\n  address[] public purchasesIndex;\n\n  DtxToken public token;\n  StreamRegistry streamRegistry;\n  address gateKeeper;\n  uint salePercentage = 1;\n\n  /**\n  @dev Contructor\n  @notice                Sets the address for token\n  @param _gateKeeper     Address of the gatekeeper\n  @param _token          Address of the token\n  */\n  function PurchaseRegistry(\n    address _gateKeeper,\n    address _token,\n    address _streamRegistry\n  )\n    Secured(_gateKeeper)\n    CachedByBytes32(\"PurchaseRegistry\", this)\n    public\n  {\n    token = DtxToken(_token);\n    streamRegistry = StreamRegistry(_streamRegistry);\n\n    gateKeeper = _gateKeeper;\n  }\n\n  /**\n  @notice               Lets the sender buy access to the Stream\n  @param _stream        Id of the listing\n  @param _endTime       Timestamp of when the user will stop receiving Stream readings in seconds (not milliseconds!)\n  */\n  function purchaseAccess(address _stream, uint _endTime) public {\n    // Calculate total cost for the user\n    uint _streamPricePerSecond = streamRegistry.getStreamPrice(_stream);\n    uint _startTime = now;\n    uint _streamPrice = _streamPricePerSecond.mul(_endTime.sub(_startTime));\n\n    // Pay out:\n    uint _salePercentage = _streamPrice.mul(salePercentage.div(100));\n    // Sensor owner\n    require(token.transferFrom(msg.sender, streamRegistry.getStreamOwner(_stream), _streamPrice.sub(_salePercentage)));\n    // DBDAO\n    require(token.transferFrom(msg.sender, this, _salePercentage));\n\n    // Create purchase\n    Purchase purchase = new Purchase(\n      _streamPricePerSecond,\n      _startTime,\n      _endTime,\n      msg.sender,\n      _stream,\n      gateKeeper\n    );\n\n    // Push to mapping\n    purchases[address(purchase)] = purchase;\n    purchasesIndex.push(msg.sender);\n\n    // Push to mapping in the stream\n    Stream(_stream).addPurchase(address(purchase), msg.sender);\n\n    AccessPurchased(_stream, msg.sender, _startTime, _endTime, _streamPrice, address(purchase));\n  }\n\n  /**\n  @notice                Sets the sale percentage\n  @param _salePercentage salePercentage\n  */\n  function setSalePercentage(uint _salePercentage) public {\n    salePercentage = _salePercentage;\n  }\n\n  /**\n  @notice             Returns wether or user has access to\n  @param _stream      Address of the stream\n  */\n  function hasAccess(address _stream) external view returns (bool access) {\n    return Stream(_stream).hasAccess(msg.sender);\n  }\n\n  /**\n  * implementation of syncable methods\n  */\n  function getIndexLength() public view returns (uint length) {\n    length = purchasesIndex.length;\n  }\n\n  function getByIndex(uint index) public view returns (address contractAddress) {\n    return getByKey(purchasesIndex[index]);\n  }\n\n  function getByKey(address _key) public view returns (address contractAddress) {\n    contractAddress = address(purchases[_key]);\n  }\n\n  /**\n  * implementation of cacher methods\n  */\n  function invalidateCache(address /*_cachedAddress*/, bytes32 _cachedBytes32, uint256 /*_cachedUint256*/) public {\n    Bytes32CacheInvalidated(_cachedBytes32);\n    super.invalidateCache();\n  }\n}\n",
  "sourcePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/purchase/PurchaseRegistry.sol",
  "ast": {
    "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/purchase/PurchaseRegistry.sol",
    "exportedSymbols": {
      "PurchaseRegistry": [
        524
      ]
    },
    "id": 525,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 238,
        "literals": [
          "solidity",
          "^",
          "0.4",
          ".20"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:24:4"
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/purchase/Purchase.sol",
        "file": "./Purchase.sol",
        "id": 239,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 237,
        "src": "26:24:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/stream/Stream.sol",
        "file": "../stream/Stream.sol",
        "id": 240,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 666,
        "src": "51:30:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/stream/StreamRegistry.sol",
        "file": "../stream/StreamRegistry.sol",
        "id": 241,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 809,
        "src": "82:38:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/dtxtoken/DtxToken.sol",
        "file": "../dtxtoken/DtxToken.sol",
        "id": 242,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 138,
        "src": "121:34:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/authentication/Secured.sol",
        "file": "@settlemint/solidity-mint/contracts/authentication/Secured.sol",
        "id": 243,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 1517,
        "src": "156:72:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/syncing/Syncable.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/syncing/Syncable.sol",
        "id": 244,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4086,
        "src": "229:74:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/caching/Cacher.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/caching/Cacher.sol",
        "id": 245,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4057,
        "src": "304:72:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/caching/CachedByBytes32.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/caching/CachedByBytes32.sol",
        "id": 246,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4033,
        "src": "377:81:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "zeppelin-solidity/contracts/math/SafeMath.sol",
        "file": "zeppelin-solidity/contracts/math/SafeMath.sol",
        "id": 247,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4184,
        "src": "459:55:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "baseContracts": [
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 248,
              "name": "Secured",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 1516,
              "src": "546:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Secured_$1516",
                "typeString": "contract Secured"
              }
            },
            "id": 249,
            "nodeType": "InheritanceSpecifier",
            "src": "546:7:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 250,
              "name": "Syncable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4085,
              "src": "555:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Syncable_$4085",
                "typeString": "contract Syncable"
              }
            },
            "id": 251,
            "nodeType": "InheritanceSpecifier",
            "src": "555:8:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 252,
              "name": "Cacher",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4056,
              "src": "565:6:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Cacher_$4056",
                "typeString": "contract Cacher"
              }
            },
            "id": 253,
            "nodeType": "InheritanceSpecifier",
            "src": "565:6:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 254,
              "name": "CachedByBytes32",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4032,
              "src": "573:15:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_CachedByBytes32_$4032",
                "typeString": "contract CachedByBytes32"
              }
            },
            "id": 255,
            "nodeType": "InheritanceSpecifier",
            "src": "573:15:4"
          }
        ],
        "contractDependencies": [
          236,
          1516,
          3966,
          4032,
          4056,
          4085
        ],
        "contractKind": "contract",
        "documentation": null,
        "fullyImplemented": true,
        "id": 524,
        "linearizedBaseContracts": [
          524,
          4032,
          3966,
          4056,
          4085,
          1516
        ],
        "name": "PurchaseRegistry",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 258,
            "libraryName": {
              "contractScope": null,
              "id": 256,
              "name": "SafeMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4183,
              "src": "599:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_SafeMath_$4183",
                "typeString": "library SafeMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "593:27:4",
            "typeName": {
              "id": 257,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "612:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            }
          },
          {
            "anonymous": false,
            "id": 272,
            "name": "AccessPurchased",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 271,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 260,
                  "indexed": false,
                  "name": "stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "646:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 259,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "646:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 262,
                  "indexed": false,
                  "name": "user",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "662:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 261,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "662:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 264,
                  "indexed": false,
                  "name": "startTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "676:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 263,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "676:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 266,
                  "indexed": false,
                  "name": "endTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "692:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 265,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "692:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 268,
                  "indexed": false,
                  "name": "price",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "706:10:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 267,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "706:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 270,
                  "indexed": false,
                  "name": "purchase",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "718:16:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 269,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "718:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "645:90:4"
            },
            "src": "624:112:4"
          },
          {
            "constant": false,
            "id": 276,
            "name": "purchases",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "740:46:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
              "typeString": "mapping(address => contract Purchase)"
            },
            "typeName": {
              "id": 275,
              "keyType": {
                "id": 273,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "749:7:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "740:29:4",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                "typeString": "mapping(address => contract Purchase)"
              },
              "valueType": {
                "contractScope": null,
                "id": 274,
                "name": "Purchase",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 236,
                "src": "760:8:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_contract$_Purchase_$236",
                  "typeString": "contract Purchase"
                }
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 279,
            "name": "purchasesIndex",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "790:31:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_array$_t_address_$dyn_storage",
              "typeString": "address[] storage ref"
            },
            "typeName": {
              "baseType": {
                "id": 277,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "790:7:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "id": 278,
              "length": null,
              "nodeType": "ArrayTypeName",
              "src": "790:9:4",
              "typeDescriptions": {
                "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                "typeString": "address[] storage pointer"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 281,
            "name": "token",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "826:21:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_DtxToken_$137",
              "typeString": "contract DtxToken"
            },
            "typeName": {
              "contractScope": null,
              "id": 280,
              "name": "DtxToken",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 137,
              "src": "826:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_DtxToken_$137",
                "typeString": "contract DtxToken"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 283,
            "name": "streamRegistry",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "851:29:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_StreamRegistry_$808",
              "typeString": "contract StreamRegistry"
            },
            "typeName": {
              "contractScope": null,
              "id": 282,
              "name": "StreamRegistry",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 808,
              "src": "851:14:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_StreamRegistry_$808",
                "typeString": "contract StreamRegistry"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 285,
            "name": "gateKeeper",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "884:18:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_address",
              "typeString": "address"
            },
            "typeName": {
              "id": 284,
              "name": "address",
              "nodeType": "ElementaryTypeName",
              "src": "884:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_address",
                "typeString": "address"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 288,
            "name": "salePercentage",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "906:23:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 286,
              "name": "uint",
              "nodeType": "ElementaryTypeName",
              "src": "906:4:4",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "argumentTypes": null,
              "hexValue": "31",
              "id": 287,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "928:1:4",
              "subdenomination": null,
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1_by_1",
                "typeString": "int_const 1"
              },
              "value": "1"
            },
            "visibility": "internal"
          },
          {
            "body": {
              "id": 320,
              "nodeType": "Block",
              "src": "1300:120:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 308,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 304,
                      "name": "token",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 281,
                      "src": "1306:5:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_DtxToken_$137",
                        "typeString": "contract DtxToken"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 306,
                          "name": "_token",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 292,
                          "src": "1323:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 305,
                        "name": "DtxToken",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 137,
                        "src": "1314:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_DtxToken_$137_$",
                          "typeString": "type(contract DtxToken)"
                        }
                      },
                      "id": 307,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1314:16:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_DtxToken_$137",
                        "typeString": "contract DtxToken"
                      }
                    },
                    "src": "1306:24:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_DtxToken_$137",
                      "typeString": "contract DtxToken"
                    }
                  },
                  "id": 309,
                  "nodeType": "ExpressionStatement",
                  "src": "1306:24:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 314,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 310,
                      "name": "streamRegistry",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 283,
                      "src": "1336:14:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_StreamRegistry_$808",
                        "typeString": "contract StreamRegistry"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 312,
                          "name": "_streamRegistry",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 294,
                          "src": "1368:15:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 311,
                        "name": "StreamRegistry",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 808,
                        "src": "1353:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_StreamRegistry_$808_$",
                          "typeString": "type(contract StreamRegistry)"
                        }
                      },
                      "id": 313,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1353:31:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_StreamRegistry_$808",
                        "typeString": "contract StreamRegistry"
                      }
                    },
                    "src": "1336:48:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_StreamRegistry_$808",
                      "typeString": "contract StreamRegistry"
                    }
                  },
                  "id": 315,
                  "nodeType": "ExpressionStatement",
                  "src": "1336:48:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 318,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 316,
                      "name": "gateKeeper",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 285,
                      "src": "1391:10:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 317,
                      "name": "_gateKeeper",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 290,
                      "src": "1404:11:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "1391:24:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 319,
                  "nodeType": "ExpressionStatement",
                  "src": "1391:24:4"
                }
              ]
            },
            "id": 321,
            "implemented": true,
            "isConstructor": true,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [
                  {
                    "argumentTypes": null,
                    "id": 297,
                    "name": "_gateKeeper",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 290,
                    "src": "1228:11:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  }
                ],
                "id": 298,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 296,
                  "name": "Secured",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 1516,
                  "src": "1220:7:4",
                  "typeDescriptions": {
                    "typeIdentifier": "t_type$_t_contract$_Secured_$1516_$",
                    "typeString": "type(contract Secured)"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1220:20:4"
              },
              {
                "arguments": [
                  {
                    "argumentTypes": null,
                    "hexValue": "50757263686173655265676973747279",
                    "id": 300,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "string",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "1261:18:4",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_stringliteral_4225285effa158c182331613349df02a03c812258f93bf115cdbd47da72e32ac",
                      "typeString": "literal_string \"PurchaseRegistry\""
                    },
                    "value": "PurchaseRegistry"
                  },
                  {
                    "argumentTypes": null,
                    "id": 301,
                    "name": "this",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 4256,
                    "src": "1281:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                      "typeString": "contract PurchaseRegistry"
                    }
                  }
                ],
                "id": 302,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 299,
                  "name": "CachedByBytes32",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4032,
                  "src": "1245:15:4",
                  "typeDescriptions": {
                    "typeIdentifier": "t_type$_t_contract$_CachedByBytes32_$4032_$",
                    "typeString": "type(contract CachedByBytes32)"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1245:41:4"
              }
            ],
            "name": "PurchaseRegistry",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 295,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 290,
                  "name": "_gateKeeper",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1143:19:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 289,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1143:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 292,
                  "name": "_token",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1168:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 291,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1168:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 294,
                  "name": "_streamRegistry",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1188:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 293,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1188:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1137:78:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 303,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1300:0:4"
            },
            "scope": 524,
            "src": "1112:308:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 436,
              "nodeType": "Block",
              "src": "1723:1019:4",
              "statements": [
                {
                  "assignments": [
                    329
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 329,
                      "name": "_streamPricePerSecond",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1770:26:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 328,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1770:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 334,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 332,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "1829:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 330,
                        "name": "streamRegistry",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 283,
                        "src": "1799:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_StreamRegistry_$808",
                          "typeString": "contract StreamRegistry"
                        }
                      },
                      "id": 331,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getStreamPrice",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 793,
                      "src": "1799:29:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_uint256_$",
                        "typeString": "function (address) view external returns (uint256)"
                      }
                    },
                    "id": 333,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1799:38:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1770:67:4"
                },
                {
                  "assignments": [
                    336
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 336,
                      "name": "_startTime",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1843:15:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 335,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1843:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 338,
                  "initialValue": {
                    "argumentTypes": null,
                    "id": 337,
                    "name": "now",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 4197,
                    "src": "1861:3:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1843:21:4"
                },
                {
                  "assignments": [
                    340
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 340,
                      "name": "_streamPrice",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1870:17:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 339,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1870:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 348,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 345,
                            "name": "_startTime",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 336,
                            "src": "1929:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 343,
                            "name": "_endTime",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 325,
                            "src": "1916:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 344,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "sub",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4158,
                          "src": "1916:12:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                            "typeString": "function (uint256,uint256) pure returns (uint256)"
                          }
                        },
                        "id": 346,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1916:24:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 341,
                        "name": "_streamPricePerSecond",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 329,
                        "src": "1890:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 342,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "mul",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4120,
                      "src": "1890:25:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256)"
                      }
                    },
                    "id": 347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1890:51:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1870:71:4"
                },
                {
                  "assignments": [
                    350
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 350,
                      "name": "_salePercentage",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1964:20:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 349,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1964:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 358,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "313030",
                            "id": 355,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2023:3:4",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_100_by_1",
                              "typeString": "int_const 100"
                            },
                            "value": "100"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_100_by_1",
                              "typeString": "int_const 100"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 353,
                            "name": "salePercentage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 288,
                            "src": "2004:14:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 354,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "div",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4138,
                          "src": "2004:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                            "typeString": "function (uint256,uint256) pure returns (uint256)"
                          }
                        },
                        "id": 356,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2004:23:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 351,
                        "name": "_streamPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 340,
                        "src": "1987:12:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 352,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "mul",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4120,
                      "src": "1987:16:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256)"
                      }
                    },
                    "id": 357,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1987:41:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1964:64:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 362,
                              "name": "msg",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4195,
                              "src": "2081:3:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_magic_message",
                                "typeString": "msg"
                              }
                            },
                            "id": 363,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "sender",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "2081:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 366,
                                "name": "_stream",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 323,
                                "src": "2123:7:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 364,
                                "name": "streamRegistry",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 283,
                                "src": "2093:14:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_contract$_StreamRegistry_$808",
                                  "typeString": "contract StreamRegistry"
                                }
                              },
                              "id": 365,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "getStreamOwner",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 807,
                              "src": "2093:29:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_address_$",
                                "typeString": "function (address) view external returns (address)"
                              }
                            },
                            "id": 367,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2093:38:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 370,
                                "name": "_salePercentage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 350,
                                "src": "2150:15:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 368,
                                "name": "_streamPrice",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 340,
                                "src": "2133:12:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 369,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "sub",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 4158,
                              "src": "2133:16:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 371,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2133:33:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 360,
                            "name": "token",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 281,
                            "src": "2062:5:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_DtxToken_$137",
                              "typeString": "contract DtxToken"
                            }
                          },
                          "id": 361,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "transferFrom",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3331,
                          "src": "2062:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,address,uint256) external returns (bool)"
                          }
                        },
                        "id": 372,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2062:105:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 359,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4198,
                      "src": "2054:7:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 373,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2054:114:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 374,
                  "nodeType": "ExpressionStatement",
                  "src": "2054:114:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 378,
                              "name": "msg",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4195,
                              "src": "2214:3:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_magic_message",
                                "typeString": "msg"
                              }
                            },
                            "id": 379,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "sender",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "2214:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 380,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4256,
                            "src": "2226:4:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                              "typeString": "contract PurchaseRegistry"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 381,
                            "name": "_salePercentage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 350,
                            "src": "2232:15:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                              "typeString": "contract PurchaseRegistry"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 376,
                            "name": "token",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 281,
                            "src": "2195:5:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_DtxToken_$137",
                              "typeString": "contract DtxToken"
                            }
                          },
                          "id": 377,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "transferFrom",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3331,
                          "src": "2195:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,address,uint256) external returns (bool)"
                          }
                        },
                        "id": 382,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2195:53:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 375,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4198,
                      "src": "2187:7:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 383,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2187:62:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 384,
                  "nodeType": "ExpressionStatement",
                  "src": "2187:62:4"
                },
                {
                  "assignments": [
                    386
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 386,
                      "name": "purchase",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "2279:17:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 385,
                        "name": "Purchase",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 236,
                        "src": "2279:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Purchase_$236",
                          "typeString": "contract Purchase"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 397,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 389,
                        "name": "_streamPricePerSecond",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 329,
                        "src": "2319:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 390,
                        "name": "_startTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 336,
                        "src": "2348:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 391,
                        "name": "_endTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 325,
                        "src": "2366:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 392,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2382:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 393,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2382:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 394,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "2400:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 395,
                        "name": "gateKeeper",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 285,
                        "src": "2415:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 388,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "NewExpression",
                      "src": "2299:12:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_creation_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_address_$_t_address_$_t_address_$returns$_t_contract$_Purchase_$236_$",
                        "typeString": "function (uint256,uint256,uint256,address,address,address) returns (contract Purchase)"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 387,
                        "name": "Purchase",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 236,
                        "src": "2303:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Purchase_$236",
                          "typeString": "contract Purchase"
                        }
                      }
                    },
                    "id": 396,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2299:132:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_Purchase_$236",
                      "typeString": "contract Purchase"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2279:152:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 404,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 398,
                        "name": "purchases",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 276,
                        "src": "2461:9:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                          "typeString": "mapping(address => contract Purchase)"
                        }
                      },
                      "id": 402,
                      "indexExpression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 400,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2479:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 399,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2471:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 401,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2471:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2461:28:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 403,
                      "name": "purchase",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 386,
                      "src": "2492:8:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      }
                    },
                    "src": "2461:39:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_Purchase_$236",
                      "typeString": "contract Purchase"
                    }
                  },
                  "id": 405,
                  "nodeType": "ExpressionStatement",
                  "src": "2461:39:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 409,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2526:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 410,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2526:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 406,
                        "name": "purchasesIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 279,
                        "src": "2506:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_storage",
                          "typeString": "address[] storage ref"
                        }
                      },
                      "id": 408,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "2506:19:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_address_$returns$_t_uint256_$",
                        "typeString": "function (address) returns (uint256)"
                      }
                    },
                    "id": 411,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2506:31:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 412,
                  "nodeType": "ExpressionStatement",
                  "src": "2506:31:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 418,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2617:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 417,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2609:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 419,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2609:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 420,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2628:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 421,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2628:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 414,
                            "name": "_stream",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 323,
                            "src": "2588:7:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          ],
                          "id": 413,
                          "name": "Stream",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 665,
                          "src": "2581:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_contract$_Stream_$665_$",
                            "typeString": "type(contract Stream)"
                          }
                        },
                        "id": 415,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2581:15:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Stream_$665",
                          "typeString": "contract Stream"
                        }
                      },
                      "id": 416,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "addPurchase",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 579,
                      "src": "2581:27:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (address,address) external"
                      }
                    },
                    "id": 422,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2581:58:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 423,
                  "nodeType": "ExpressionStatement",
                  "src": "2581:58:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 425,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "2662:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 426,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2671:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 427,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2671:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 428,
                        "name": "_startTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 336,
                        "src": "2683:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 429,
                        "name": "_endTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 325,
                        "src": "2695:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 430,
                        "name": "_streamPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 340,
                        "src": "2705:12:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 432,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2727:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 431,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2719:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 433,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2719:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 424,
                      "name": "AccessPurchased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 272,
                      "src": "2646:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_address_$returns$__$",
                        "typeString": "function (address,address,uint256,uint256,uint256,address)"
                      }
                    },
                    "id": 434,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2646:91:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 435,
                  "nodeType": "ExpressionStatement",
                  "src": "2646:91:4"
                }
              ]
            },
            "id": 437,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "purchaseAccess",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 326,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 323,
                  "name": "_stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 437,
                  "src": "1684:15:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 322,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1684:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 325,
                  "name": "_endTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 437,
                  "src": "1701:13:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 324,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "1701:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1683:32:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 327,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1723:0:4"
            },
            "scope": 524,
            "src": "1660:1082:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 446,
              "nodeType": "Block",
              "src": "2903:43:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 444,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 442,
                      "name": "salePercentage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 288,
                      "src": "2909:14:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 443,
                      "name": "_salePercentage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 439,
                      "src": "2926:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2909:32:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 445,
                  "nodeType": "ExpressionStatement",
                  "src": "2909:32:4"
                }
              ]
            },
            "id": 447,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "setSalePercentage",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 440,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 439,
                  "name": "_salePercentage",
                  "nodeType": "VariableDeclaration",
                  "scope": 447,
                  "src": "2874:20:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 438,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "2874:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2873:22:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 441,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2903:0:4"
            },
            "scope": 524,
            "src": "2847:99:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 462,
              "nodeType": "Block",
              "src": "3136:55:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 458,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "3175:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 459,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "3175:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 455,
                            "name": "_stream",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 449,
                            "src": "3156:7:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          ],
                          "id": 454,
                          "name": "Stream",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 665,
                          "src": "3149:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_contract$_Stream_$665_$",
                            "typeString": "type(contract Stream)"
                          }
                        },
                        "id": 456,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3149:15:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Stream_$665",
                          "typeString": "contract Stream"
                        }
                      },
                      "id": 457,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "hasAccess",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 600,
                      "src": "3149:25:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_bool_$",
                        "typeString": "function (address) view external returns (bool)"
                      }
                    },
                    "id": 460,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3149:37:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "functionReturnParameters": 453,
                  "id": 461,
                  "nodeType": "Return",
                  "src": "3142:44:4"
                }
              ]
            },
            "id": 463,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "hasAccess",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 450,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 449,
                  "name": "_stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 463,
                  "src": "3083:15:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 448,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3083:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3082:17:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 453,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 452,
                  "name": "access",
                  "nodeType": "VariableDeclaration",
                  "scope": 463,
                  "src": "3123:11:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 451,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "3123:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3122:13:4"
            },
            "scope": 524,
            "src": "3064:127:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "external"
          },
          {
            "body": {
              "id": 473,
              "nodeType": "Block",
              "src": "3305:41:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 471,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 468,
                      "name": "length",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 466,
                      "src": "3311:6:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 469,
                        "name": "purchasesIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 279,
                        "src": "3320:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_storage",
                          "typeString": "address[] storage ref"
                        }
                      },
                      "id": 470,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "3320:21:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3311:30:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 472,
                  "nodeType": "ExpressionStatement",
                  "src": "3311:30:4"
                }
              ]
            },
            "id": 474,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getIndexLength",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 464,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3268:2:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 467,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 466,
                  "name": "length",
                  "nodeType": "VariableDeclaration",
                  "scope": 474,
                  "src": "3292:11:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 465,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "3292:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3291:13:4"
            },
            "scope": 524,
            "src": "3245:101:4",
            "stateMutability": "view",
            "superFunction": 4084,
            "visibility": "public"
          },
          {
            "body": {
              "id": 487,
              "nodeType": "Block",
              "src": "3428:49:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 482,
                          "name": "purchasesIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 279,
                          "src": "3450:14:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_storage",
                            "typeString": "address[] storage ref"
                          }
                        },
                        "id": 484,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 483,
                          "name": "index",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 476,
                          "src": "3465:5:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "3450:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 481,
                      "name": "getByKey",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 504,
                      "src": "3441:8:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_address_$returns$_t_address_$",
                        "typeString": "function (address) view returns (address)"
                      }
                    },
                    "id": 485,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3441:31:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "functionReturnParameters": 480,
                  "id": 486,
                  "nodeType": "Return",
                  "src": "3434:38:4"
                }
              ]
            },
            "id": 488,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getByIndex",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 477,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 476,
                  "name": "index",
                  "nodeType": "VariableDeclaration",
                  "scope": 488,
                  "src": "3370:10:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 475,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "3370:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3369:12:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 480,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 479,
                  "name": "contractAddress",
                  "nodeType": "VariableDeclaration",
                  "scope": 488,
                  "src": "3403:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 478,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3403:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3402:25:4"
            },
            "scope": 524,
            "src": "3350:127:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 503,
              "nodeType": "Block",
              "src": "3559:53:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 501,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 495,
                      "name": "contractAddress",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 493,
                      "src": "3565:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 497,
                            "name": "purchases",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 276,
                            "src": "3591:9:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                              "typeString": "mapping(address => contract Purchase)"
                            }
                          },
                          "id": 499,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 498,
                            "name": "_key",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 490,
                            "src": "3601:4:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "3591:15:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_Purchase_$236",
                            "typeString": "contract Purchase"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_contract$_Purchase_$236",
                            "typeString": "contract Purchase"
                          }
                        ],
                        "id": 496,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "3583:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": "address"
                      },
                      "id": 500,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3583:24:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "3565:42:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 502,
                  "nodeType": "ExpressionStatement",
                  "src": "3565:42:4"
                }
              ]
            },
            "id": 504,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 491,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 490,
                  "name": "_key",
                  "nodeType": "VariableDeclaration",
                  "scope": 504,
                  "src": "3499:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 489,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3499:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3498:14:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 494,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 493,
                  "name": "contractAddress",
                  "nodeType": "VariableDeclaration",
                  "scope": 504,
                  "src": "3534:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 492,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3534:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3533:25:4"
            },
            "scope": 524,
            "src": "3481:131:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 522,
              "nodeType": "Block",
              "src": "3776:79:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 514,
                        "name": "_cachedBytes32",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 508,
                        "src": "3806:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      ],
                      "id": 513,
                      "name": "Bytes32CacheInvalidated",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4042,
                      "src": "3782:23:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_bytes32_$returns$__$",
                        "typeString": "function (bytes32)"
                      }
                    },
                    "id": 515,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3782:39:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 516,
                  "nodeType": "ExpressionStatement",
                  "src": "3782:39:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 517,
                        "name": "super",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4257,
                        "src": "3827:5:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_super$_PurchaseRegistry_$524",
                          "typeString": "contract super PurchaseRegistry"
                        }
                      },
                      "id": 519,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "invalidateCache",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4031,
                      "src": "3827:21:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$__$returns$__$",
                        "typeString": "function ()"
                      }
                    },
                    "id": 520,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3827:23:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 521,
                  "nodeType": "ExpressionStatement",
                  "src": "3827:23:4"
                }
              ]
            },
            "id": 523,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "invalidateCache",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 511,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 506,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3689:7:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 505,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3689:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 508,
                  "name": "_cachedBytes32",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3717:22:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 507,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3717:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 510,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3741:7:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 509,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3741:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3688:80:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 512,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3776:0:4"
            },
            "scope": 524,
            "src": "3664:191:4",
            "stateMutability": "nonpayable",
            "superFunction": 4055,
            "visibility": "public"
          }
        ],
        "scope": 525,
        "src": "517:3340:4"
      }
    ],
    "src": "0:3858:4"
  },
  "legacyAST": {
    "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/purchase/PurchaseRegistry.sol",
    "exportedSymbols": {
      "PurchaseRegistry": [
        524
      ]
    },
    "id": 525,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 238,
        "literals": [
          "solidity",
          "^",
          "0.4",
          ".20"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:24:4"
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/purchase/Purchase.sol",
        "file": "./Purchase.sol",
        "id": 239,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 237,
        "src": "26:24:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/stream/Stream.sol",
        "file": "../stream/Stream.sol",
        "id": 240,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 666,
        "src": "51:30:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/stream/StreamRegistry.sol",
        "file": "../stream/StreamRegistry.sol",
        "id": 241,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 809,
        "src": "82:38:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/silkevandenbroeck/databrokerDAO/databrokerdao-dapi/contracts/dtxtoken/DtxToken.sol",
        "file": "../dtxtoken/DtxToken.sol",
        "id": 242,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 138,
        "src": "121:34:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/authentication/Secured.sol",
        "file": "@settlemint/solidity-mint/contracts/authentication/Secured.sol",
        "id": 243,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 1517,
        "src": "156:72:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/syncing/Syncable.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/syncing/Syncable.sol",
        "id": 244,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4086,
        "src": "229:74:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/caching/Cacher.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/caching/Cacher.sol",
        "id": 245,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4057,
        "src": "304:72:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@settlemint/solidity-mint/contracts/utility/caching/CachedByBytes32.sol",
        "file": "@settlemint/solidity-mint/contracts/utility/caching/CachedByBytes32.sol",
        "id": 246,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4033,
        "src": "377:81:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "zeppelin-solidity/contracts/math/SafeMath.sol",
        "file": "zeppelin-solidity/contracts/math/SafeMath.sol",
        "id": 247,
        "nodeType": "ImportDirective",
        "scope": 525,
        "sourceUnit": 4184,
        "src": "459:55:4",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "baseContracts": [
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 248,
              "name": "Secured",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 1516,
              "src": "546:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Secured_$1516",
                "typeString": "contract Secured"
              }
            },
            "id": 249,
            "nodeType": "InheritanceSpecifier",
            "src": "546:7:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 250,
              "name": "Syncable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4085,
              "src": "555:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Syncable_$4085",
                "typeString": "contract Syncable"
              }
            },
            "id": 251,
            "nodeType": "InheritanceSpecifier",
            "src": "555:8:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 252,
              "name": "Cacher",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4056,
              "src": "565:6:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Cacher_$4056",
                "typeString": "contract Cacher"
              }
            },
            "id": 253,
            "nodeType": "InheritanceSpecifier",
            "src": "565:6:4"
          },
          {
            "arguments": [],
            "baseName": {
              "contractScope": null,
              "id": 254,
              "name": "CachedByBytes32",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4032,
              "src": "573:15:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_CachedByBytes32_$4032",
                "typeString": "contract CachedByBytes32"
              }
            },
            "id": 255,
            "nodeType": "InheritanceSpecifier",
            "src": "573:15:4"
          }
        ],
        "contractDependencies": [
          236,
          1516,
          3966,
          4032,
          4056,
          4085
        ],
        "contractKind": "contract",
        "documentation": null,
        "fullyImplemented": true,
        "id": 524,
        "linearizedBaseContracts": [
          524,
          4032,
          3966,
          4056,
          4085,
          1516
        ],
        "name": "PurchaseRegistry",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 258,
            "libraryName": {
              "contractScope": null,
              "id": 256,
              "name": "SafeMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4183,
              "src": "599:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_SafeMath_$4183",
                "typeString": "library SafeMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "593:27:4",
            "typeName": {
              "id": 257,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "612:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            }
          },
          {
            "anonymous": false,
            "id": 272,
            "name": "AccessPurchased",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 271,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 260,
                  "indexed": false,
                  "name": "stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "646:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 259,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "646:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 262,
                  "indexed": false,
                  "name": "user",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "662:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 261,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "662:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 264,
                  "indexed": false,
                  "name": "startTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "676:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 263,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "676:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 266,
                  "indexed": false,
                  "name": "endTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "692:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 265,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "692:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 268,
                  "indexed": false,
                  "name": "price",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "706:10:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 267,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "706:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 270,
                  "indexed": false,
                  "name": "purchase",
                  "nodeType": "VariableDeclaration",
                  "scope": 272,
                  "src": "718:16:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 269,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "718:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "645:90:4"
            },
            "src": "624:112:4"
          },
          {
            "constant": false,
            "id": 276,
            "name": "purchases",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "740:46:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
              "typeString": "mapping(address => contract Purchase)"
            },
            "typeName": {
              "id": 275,
              "keyType": {
                "id": 273,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "749:7:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "740:29:4",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                "typeString": "mapping(address => contract Purchase)"
              },
              "valueType": {
                "contractScope": null,
                "id": 274,
                "name": "Purchase",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 236,
                "src": "760:8:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_contract$_Purchase_$236",
                  "typeString": "contract Purchase"
                }
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 279,
            "name": "purchasesIndex",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "790:31:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_array$_t_address_$dyn_storage",
              "typeString": "address[] storage ref"
            },
            "typeName": {
              "baseType": {
                "id": 277,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "790:7:4",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "id": 278,
              "length": null,
              "nodeType": "ArrayTypeName",
              "src": "790:9:4",
              "typeDescriptions": {
                "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                "typeString": "address[] storage pointer"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 281,
            "name": "token",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "826:21:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_DtxToken_$137",
              "typeString": "contract DtxToken"
            },
            "typeName": {
              "contractScope": null,
              "id": 280,
              "name": "DtxToken",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 137,
              "src": "826:8:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_DtxToken_$137",
                "typeString": "contract DtxToken"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 283,
            "name": "streamRegistry",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "851:29:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_StreamRegistry_$808",
              "typeString": "contract StreamRegistry"
            },
            "typeName": {
              "contractScope": null,
              "id": 282,
              "name": "StreamRegistry",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 808,
              "src": "851:14:4",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_StreamRegistry_$808",
                "typeString": "contract StreamRegistry"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 285,
            "name": "gateKeeper",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "884:18:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_address",
              "typeString": "address"
            },
            "typeName": {
              "id": 284,
              "name": "address",
              "nodeType": "ElementaryTypeName",
              "src": "884:7:4",
              "typeDescriptions": {
                "typeIdentifier": "t_address",
                "typeString": "address"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 288,
            "name": "salePercentage",
            "nodeType": "VariableDeclaration",
            "scope": 524,
            "src": "906:23:4",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 286,
              "name": "uint",
              "nodeType": "ElementaryTypeName",
              "src": "906:4:4",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "argumentTypes": null,
              "hexValue": "31",
              "id": 287,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "928:1:4",
              "subdenomination": null,
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1_by_1",
                "typeString": "int_const 1"
              },
              "value": "1"
            },
            "visibility": "internal"
          },
          {
            "body": {
              "id": 320,
              "nodeType": "Block",
              "src": "1300:120:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 308,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 304,
                      "name": "token",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 281,
                      "src": "1306:5:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_DtxToken_$137",
                        "typeString": "contract DtxToken"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 306,
                          "name": "_token",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 292,
                          "src": "1323:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 305,
                        "name": "DtxToken",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 137,
                        "src": "1314:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_DtxToken_$137_$",
                          "typeString": "type(contract DtxToken)"
                        }
                      },
                      "id": 307,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1314:16:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_DtxToken_$137",
                        "typeString": "contract DtxToken"
                      }
                    },
                    "src": "1306:24:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_DtxToken_$137",
                      "typeString": "contract DtxToken"
                    }
                  },
                  "id": 309,
                  "nodeType": "ExpressionStatement",
                  "src": "1306:24:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 314,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 310,
                      "name": "streamRegistry",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 283,
                      "src": "1336:14:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_StreamRegistry_$808",
                        "typeString": "contract StreamRegistry"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 312,
                          "name": "_streamRegistry",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 294,
                          "src": "1368:15:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 311,
                        "name": "StreamRegistry",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 808,
                        "src": "1353:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_StreamRegistry_$808_$",
                          "typeString": "type(contract StreamRegistry)"
                        }
                      },
                      "id": 313,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1353:31:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_StreamRegistry_$808",
                        "typeString": "contract StreamRegistry"
                      }
                    },
                    "src": "1336:48:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_StreamRegistry_$808",
                      "typeString": "contract StreamRegistry"
                    }
                  },
                  "id": 315,
                  "nodeType": "ExpressionStatement",
                  "src": "1336:48:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 318,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 316,
                      "name": "gateKeeper",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 285,
                      "src": "1391:10:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 317,
                      "name": "_gateKeeper",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 290,
                      "src": "1404:11:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "1391:24:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 319,
                  "nodeType": "ExpressionStatement",
                  "src": "1391:24:4"
                }
              ]
            },
            "id": 321,
            "implemented": true,
            "isConstructor": true,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [
                  {
                    "argumentTypes": null,
                    "id": 297,
                    "name": "_gateKeeper",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 290,
                    "src": "1228:11:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  }
                ],
                "id": 298,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 296,
                  "name": "Secured",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 1516,
                  "src": "1220:7:4",
                  "typeDescriptions": {
                    "typeIdentifier": "t_type$_t_contract$_Secured_$1516_$",
                    "typeString": "type(contract Secured)"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1220:20:4"
              },
              {
                "arguments": [
                  {
                    "argumentTypes": null,
                    "hexValue": "50757263686173655265676973747279",
                    "id": 300,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "string",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "1261:18:4",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_stringliteral_4225285effa158c182331613349df02a03c812258f93bf115cdbd47da72e32ac",
                      "typeString": "literal_string \"PurchaseRegistry\""
                    },
                    "value": "PurchaseRegistry"
                  },
                  {
                    "argumentTypes": null,
                    "id": 301,
                    "name": "this",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 4256,
                    "src": "1281:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                      "typeString": "contract PurchaseRegistry"
                    }
                  }
                ],
                "id": 302,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 299,
                  "name": "CachedByBytes32",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4032,
                  "src": "1245:15:4",
                  "typeDescriptions": {
                    "typeIdentifier": "t_type$_t_contract$_CachedByBytes32_$4032_$",
                    "typeString": "type(contract CachedByBytes32)"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1245:41:4"
              }
            ],
            "name": "PurchaseRegistry",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 295,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 290,
                  "name": "_gateKeeper",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1143:19:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 289,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1143:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 292,
                  "name": "_token",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1168:14:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 291,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1168:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 294,
                  "name": "_streamRegistry",
                  "nodeType": "VariableDeclaration",
                  "scope": 321,
                  "src": "1188:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 293,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1188:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1137:78:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 303,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1300:0:4"
            },
            "scope": 524,
            "src": "1112:308:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 436,
              "nodeType": "Block",
              "src": "1723:1019:4",
              "statements": [
                {
                  "assignments": [
                    329
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 329,
                      "name": "_streamPricePerSecond",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1770:26:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 328,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1770:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 334,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 332,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "1829:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 330,
                        "name": "streamRegistry",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 283,
                        "src": "1799:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_StreamRegistry_$808",
                          "typeString": "contract StreamRegistry"
                        }
                      },
                      "id": 331,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getStreamPrice",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 793,
                      "src": "1799:29:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_uint256_$",
                        "typeString": "function (address) view external returns (uint256)"
                      }
                    },
                    "id": 333,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1799:38:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1770:67:4"
                },
                {
                  "assignments": [
                    336
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 336,
                      "name": "_startTime",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1843:15:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 335,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1843:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 338,
                  "initialValue": {
                    "argumentTypes": null,
                    "id": 337,
                    "name": "now",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 4197,
                    "src": "1861:3:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1843:21:4"
                },
                {
                  "assignments": [
                    340
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 340,
                      "name": "_streamPrice",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1870:17:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 339,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1870:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 348,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 345,
                            "name": "_startTime",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 336,
                            "src": "1929:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 343,
                            "name": "_endTime",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 325,
                            "src": "1916:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 344,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "sub",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4158,
                          "src": "1916:12:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                            "typeString": "function (uint256,uint256) pure returns (uint256)"
                          }
                        },
                        "id": 346,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1916:24:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 341,
                        "name": "_streamPricePerSecond",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 329,
                        "src": "1890:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 342,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "mul",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4120,
                      "src": "1890:25:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256)"
                      }
                    },
                    "id": 347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1890:51:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1870:71:4"
                },
                {
                  "assignments": [
                    350
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 350,
                      "name": "_salePercentage",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "1964:20:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 349,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1964:4:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 358,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "313030",
                            "id": 355,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2023:3:4",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_100_by_1",
                              "typeString": "int_const 100"
                            },
                            "value": "100"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_100_by_1",
                              "typeString": "int_const 100"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 353,
                            "name": "salePercentage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 288,
                            "src": "2004:14:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 354,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "div",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4138,
                          "src": "2004:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                            "typeString": "function (uint256,uint256) pure returns (uint256)"
                          }
                        },
                        "id": 356,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2004:23:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 351,
                        "name": "_streamPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 340,
                        "src": "1987:12:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 352,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "mul",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4120,
                      "src": "1987:16:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256)"
                      }
                    },
                    "id": 357,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1987:41:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1964:64:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 362,
                              "name": "msg",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4195,
                              "src": "2081:3:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_magic_message",
                                "typeString": "msg"
                              }
                            },
                            "id": 363,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "sender",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "2081:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 366,
                                "name": "_stream",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 323,
                                "src": "2123:7:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 364,
                                "name": "streamRegistry",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 283,
                                "src": "2093:14:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_contract$_StreamRegistry_$808",
                                  "typeString": "contract StreamRegistry"
                                }
                              },
                              "id": 365,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "getStreamOwner",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 807,
                              "src": "2093:29:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_address_$",
                                "typeString": "function (address) view external returns (address)"
                              }
                            },
                            "id": 367,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2093:38:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 370,
                                "name": "_salePercentage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 350,
                                "src": "2150:15:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 368,
                                "name": "_streamPrice",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 340,
                                "src": "2133:12:4",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 369,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "sub",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 4158,
                              "src": "2133:16:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 371,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2133:33:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 360,
                            "name": "token",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 281,
                            "src": "2062:5:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_DtxToken_$137",
                              "typeString": "contract DtxToken"
                            }
                          },
                          "id": 361,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "transferFrom",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3331,
                          "src": "2062:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,address,uint256) external returns (bool)"
                          }
                        },
                        "id": 372,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2062:105:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 359,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4198,
                      "src": "2054:7:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 373,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2054:114:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 374,
                  "nodeType": "ExpressionStatement",
                  "src": "2054:114:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 378,
                              "name": "msg",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4195,
                              "src": "2214:3:4",
                              "typeDescriptions": {
                                "typeIdentifier": "t_magic_message",
                                "typeString": "msg"
                              }
                            },
                            "id": 379,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "sender",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "2214:10:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 380,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4256,
                            "src": "2226:4:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                              "typeString": "contract PurchaseRegistry"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 381,
                            "name": "_salePercentage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 350,
                            "src": "2232:15:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_contract$_PurchaseRegistry_$524",
                              "typeString": "contract PurchaseRegistry"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 376,
                            "name": "token",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 281,
                            "src": "2195:5:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_DtxToken_$137",
                              "typeString": "contract DtxToken"
                            }
                          },
                          "id": 377,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "transferFrom",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3331,
                          "src": "2195:18:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,address,uint256) external returns (bool)"
                          }
                        },
                        "id": 382,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2195:53:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 375,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4198,
                      "src": "2187:7:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 383,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2187:62:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 384,
                  "nodeType": "ExpressionStatement",
                  "src": "2187:62:4"
                },
                {
                  "assignments": [
                    386
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 386,
                      "name": "purchase",
                      "nodeType": "VariableDeclaration",
                      "scope": 437,
                      "src": "2279:17:4",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 385,
                        "name": "Purchase",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 236,
                        "src": "2279:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Purchase_$236",
                          "typeString": "contract Purchase"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 397,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 389,
                        "name": "_streamPricePerSecond",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 329,
                        "src": "2319:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 390,
                        "name": "_startTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 336,
                        "src": "2348:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 391,
                        "name": "_endTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 325,
                        "src": "2366:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 392,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2382:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 393,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2382:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 394,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "2400:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 395,
                        "name": "gateKeeper",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 285,
                        "src": "2415:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 388,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "NewExpression",
                      "src": "2299:12:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_creation_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_address_$_t_address_$_t_address_$returns$_t_contract$_Purchase_$236_$",
                        "typeString": "function (uint256,uint256,uint256,address,address,address) returns (contract Purchase)"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 387,
                        "name": "Purchase",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 236,
                        "src": "2303:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Purchase_$236",
                          "typeString": "contract Purchase"
                        }
                      }
                    },
                    "id": 396,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2299:132:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_Purchase_$236",
                      "typeString": "contract Purchase"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2279:152:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 404,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 398,
                        "name": "purchases",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 276,
                        "src": "2461:9:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                          "typeString": "mapping(address => contract Purchase)"
                        }
                      },
                      "id": 402,
                      "indexExpression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 400,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2479:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 399,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2471:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 401,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2471:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2461:28:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 403,
                      "name": "purchase",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 386,
                      "src": "2492:8:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_Purchase_$236",
                        "typeString": "contract Purchase"
                      }
                    },
                    "src": "2461:39:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_Purchase_$236",
                      "typeString": "contract Purchase"
                    }
                  },
                  "id": 405,
                  "nodeType": "ExpressionStatement",
                  "src": "2461:39:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 409,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2526:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 410,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2526:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 406,
                        "name": "purchasesIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 279,
                        "src": "2506:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_storage",
                          "typeString": "address[] storage ref"
                        }
                      },
                      "id": 408,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "2506:19:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_address_$returns$_t_uint256_$",
                        "typeString": "function (address) returns (uint256)"
                      }
                    },
                    "id": 411,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2506:31:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 412,
                  "nodeType": "ExpressionStatement",
                  "src": "2506:31:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 418,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2617:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 417,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2609:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 419,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2609:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 420,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2628:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 421,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2628:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 414,
                            "name": "_stream",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 323,
                            "src": "2588:7:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          ],
                          "id": 413,
                          "name": "Stream",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 665,
                          "src": "2581:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_contract$_Stream_$665_$",
                            "typeString": "type(contract Stream)"
                          }
                        },
                        "id": 415,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2581:15:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Stream_$665",
                          "typeString": "contract Stream"
                        }
                      },
                      "id": 416,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "addPurchase",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 579,
                      "src": "2581:27:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (address,address) external"
                      }
                    },
                    "id": 422,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2581:58:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 423,
                  "nodeType": "ExpressionStatement",
                  "src": "2581:58:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 425,
                        "name": "_stream",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 323,
                        "src": "2662:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 426,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "2671:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 427,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "2671:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 428,
                        "name": "_startTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 336,
                        "src": "2683:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 429,
                        "name": "_endTime",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 325,
                        "src": "2695:8:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 430,
                        "name": "_streamPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 340,
                        "src": "2705:12:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 432,
                            "name": "purchase",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 386,
                            "src": "2727:8:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_Purchase_$236",
                              "typeString": "contract Purchase"
                            }
                          ],
                          "id": 431,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "2719:7:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": "address"
                        },
                        "id": 433,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2719:17:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 424,
                      "name": "AccessPurchased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 272,
                      "src": "2646:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_address_$returns$__$",
                        "typeString": "function (address,address,uint256,uint256,uint256,address)"
                      }
                    },
                    "id": 434,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2646:91:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 435,
                  "nodeType": "ExpressionStatement",
                  "src": "2646:91:4"
                }
              ]
            },
            "id": 437,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "purchaseAccess",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 326,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 323,
                  "name": "_stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 437,
                  "src": "1684:15:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 322,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1684:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 325,
                  "name": "_endTime",
                  "nodeType": "VariableDeclaration",
                  "scope": 437,
                  "src": "1701:13:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 324,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "1701:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1683:32:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 327,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1723:0:4"
            },
            "scope": 524,
            "src": "1660:1082:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 446,
              "nodeType": "Block",
              "src": "2903:43:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 444,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 442,
                      "name": "salePercentage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 288,
                      "src": "2909:14:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 443,
                      "name": "_salePercentage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 439,
                      "src": "2926:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2909:32:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 445,
                  "nodeType": "ExpressionStatement",
                  "src": "2909:32:4"
                }
              ]
            },
            "id": 447,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "setSalePercentage",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 440,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 439,
                  "name": "_salePercentage",
                  "nodeType": "VariableDeclaration",
                  "scope": 447,
                  "src": "2874:20:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 438,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "2874:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2873:22:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 441,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2903:0:4"
            },
            "scope": 524,
            "src": "2847:99:4",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 462,
              "nodeType": "Block",
              "src": "3136:55:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 458,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4195,
                          "src": "3175:3:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 459,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": null,
                        "src": "3175:10:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 455,
                            "name": "_stream",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 449,
                            "src": "3156:7:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          ],
                          "id": 454,
                          "name": "Stream",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 665,
                          "src": "3149:6:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_contract$_Stream_$665_$",
                            "typeString": "type(contract Stream)"
                          }
                        },
                        "id": 456,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3149:15:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_Stream_$665",
                          "typeString": "contract Stream"
                        }
                      },
                      "id": 457,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "hasAccess",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 600,
                      "src": "3149:25:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$_t_address_$returns$_t_bool_$",
                        "typeString": "function (address) view external returns (bool)"
                      }
                    },
                    "id": 460,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3149:37:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "functionReturnParameters": 453,
                  "id": 461,
                  "nodeType": "Return",
                  "src": "3142:44:4"
                }
              ]
            },
            "id": 463,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "hasAccess",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 450,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 449,
                  "name": "_stream",
                  "nodeType": "VariableDeclaration",
                  "scope": 463,
                  "src": "3083:15:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 448,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3083:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3082:17:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 453,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 452,
                  "name": "access",
                  "nodeType": "VariableDeclaration",
                  "scope": 463,
                  "src": "3123:11:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 451,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "3123:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3122:13:4"
            },
            "scope": 524,
            "src": "3064:127:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "external"
          },
          {
            "body": {
              "id": 473,
              "nodeType": "Block",
              "src": "3305:41:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 471,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 468,
                      "name": "length",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 466,
                      "src": "3311:6:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 469,
                        "name": "purchasesIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 279,
                        "src": "3320:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_storage",
                          "typeString": "address[] storage ref"
                        }
                      },
                      "id": 470,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "3320:21:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3311:30:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 472,
                  "nodeType": "ExpressionStatement",
                  "src": "3311:30:4"
                }
              ]
            },
            "id": 474,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getIndexLength",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 464,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3268:2:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 467,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 466,
                  "name": "length",
                  "nodeType": "VariableDeclaration",
                  "scope": 474,
                  "src": "3292:11:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 465,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "3292:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3291:13:4"
            },
            "scope": 524,
            "src": "3245:101:4",
            "stateMutability": "view",
            "superFunction": 4084,
            "visibility": "public"
          },
          {
            "body": {
              "id": 487,
              "nodeType": "Block",
              "src": "3428:49:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 482,
                          "name": "purchasesIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 279,
                          "src": "3450:14:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_storage",
                            "typeString": "address[] storage ref"
                          }
                        },
                        "id": 484,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 483,
                          "name": "index",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 476,
                          "src": "3465:5:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "3450:21:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 481,
                      "name": "getByKey",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 504,
                      "src": "3441:8:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_address_$returns$_t_address_$",
                        "typeString": "function (address) view returns (address)"
                      }
                    },
                    "id": 485,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3441:31:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "functionReturnParameters": 480,
                  "id": 486,
                  "nodeType": "Return",
                  "src": "3434:38:4"
                }
              ]
            },
            "id": 488,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getByIndex",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 477,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 476,
                  "name": "index",
                  "nodeType": "VariableDeclaration",
                  "scope": 488,
                  "src": "3370:10:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 475,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "3370:4:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3369:12:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 480,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 479,
                  "name": "contractAddress",
                  "nodeType": "VariableDeclaration",
                  "scope": 488,
                  "src": "3403:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 478,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3403:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3402:25:4"
            },
            "scope": 524,
            "src": "3350:127:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 503,
              "nodeType": "Block",
              "src": "3559:53:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 501,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 495,
                      "name": "contractAddress",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 493,
                      "src": "3565:15:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 497,
                            "name": "purchases",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 276,
                            "src": "3591:9:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_contract$_Purchase_$236_$",
                              "typeString": "mapping(address => contract Purchase)"
                            }
                          },
                          "id": 499,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 498,
                            "name": "_key",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 490,
                            "src": "3601:4:4",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "3591:15:4",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_Purchase_$236",
                            "typeString": "contract Purchase"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_contract$_Purchase_$236",
                            "typeString": "contract Purchase"
                          }
                        ],
                        "id": 496,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "3583:7:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": "address"
                      },
                      "id": 500,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3583:24:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "3565:42:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 502,
                  "nodeType": "ExpressionStatement",
                  "src": "3565:42:4"
                }
              ]
            },
            "id": 504,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "getByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 491,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 490,
                  "name": "_key",
                  "nodeType": "VariableDeclaration",
                  "scope": 504,
                  "src": "3499:12:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 489,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3499:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3498:14:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 494,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 493,
                  "name": "contractAddress",
                  "nodeType": "VariableDeclaration",
                  "scope": 504,
                  "src": "3534:23:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 492,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3534:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3533:25:4"
            },
            "scope": 524,
            "src": "3481:131:4",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 522,
              "nodeType": "Block",
              "src": "3776:79:4",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 514,
                        "name": "_cachedBytes32",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 508,
                        "src": "3806:14:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      ],
                      "id": 513,
                      "name": "Bytes32CacheInvalidated",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4042,
                      "src": "3782:23:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_bytes32_$returns$__$",
                        "typeString": "function (bytes32)"
                      }
                    },
                    "id": 515,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3782:39:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 516,
                  "nodeType": "ExpressionStatement",
                  "src": "3782:39:4"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 517,
                        "name": "super",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4257,
                        "src": "3827:5:4",
                        "typeDescriptions": {
                          "typeIdentifier": "t_super$_PurchaseRegistry_$524",
                          "typeString": "contract super PurchaseRegistry"
                        }
                      },
                      "id": 519,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "invalidateCache",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4031,
                      "src": "3827:21:4",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$__$returns$__$",
                        "typeString": "function ()"
                      }
                    },
                    "id": 520,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3827:23:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 521,
                  "nodeType": "ExpressionStatement",
                  "src": "3827:23:4"
                }
              ]
            },
            "id": 523,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [],
            "name": "invalidateCache",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 511,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 506,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3689:7:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 505,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3689:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 508,
                  "name": "_cachedBytes32",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3717:22:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 507,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "3717:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 510,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 523,
                  "src": "3741:7:4",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 509,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3741:7:4",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3688:80:4"
            },
            "payable": false,
            "returnParameters": {
              "id": 512,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3776:0:4"
            },
            "scope": 524,
            "src": "3664:191:4",
            "stateMutability": "nonpayable",
            "superFunction": 4055,
            "visibility": "public"
          }
        ],
        "scope": 525,
        "src": "517:3340:4"
      }
    ],
    "src": "0:3858:4"
  },
  "compiler": {
    "name": "solc",
    "version": "0.4.20+commit.3155dd80.Emscripten.clang"
  },
  "networks": {
    "1337": {
      "events": {},
      "links": {},
      "address": "0x686b3142ca446f164a1eb9d20fc93f83565a2758",
      "transactionHash": "0x483a0e1a6ab39c6a1e5e22eea62e864081d4d8ec9995a1f337aade66f00d3a69"
    }
  },
  "schemaVersion": "2.0.0",
  "updatedAt": "2018-03-05T11:37:36.291Z"
}